(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e64cabbe"],{"4de4":function(e,t,c){"use strict";var r=c("23e7"),a=c("b727").filter,o=c("1dde"),i=o("filter");r({target:"Array",proto:!0,forced:!i},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"593f":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a"),c("caad"),c("2532");var r=c("7a23"),a=Object(r["createStaticVNode"])('<div class="bg__productDetail__banner mb-5"><div class="row d-flex justify-content-center align-items-center h-100"><div class="col-6 col-lg-4"><div class="bg-light py-2 py-sm-4 rounded opacity__banner"><h2 class="text-center font--banner mb-0">商品介紹</h2></div></div></div></div>',1),o={class:"container-lg pt-3 pb-5"},i={class:"row"},n={class:"col-12 col-md-4 col-lg-5"},s={class:"mb-5 mb-md-0"},d={"aria-label":"breadcrumb",class:"mb-3 d-md-none font--sm px-5"},l={class:"breadcrumb"},u={class:"breadcrumb-item"},b=Object(r["createTextVNode"])("首頁"),p={class:"breadcrumb-item"},m=Object(r["createTextVNode"])("影音商品"),j={class:"breadcrumb-item"},O={class:"breadcrumb-item active","aria-current":"page"},g={class:"px-5 px-md-0 px-lg-3"},h={class:"col-12 col-md-8 col-lg-7"},f={class:"px-5 px-md-0"},N={"aria-label":"breadcrumb",class:"mb-3 d-none d-md-block"},v={class:"breadcrumb"},V={class:"breadcrumb-item"},x=Object(r["createTextVNode"])("首頁"),w={class:"breadcrumb-item"},y=Object(r["createTextVNode"])("影音商品"),k={class:"breadcrumb-item"},S={class:"breadcrumb-item active","aria-current":"page"},_={class:"bg-dark text-white p-3 position-relative h--productDetail"},C={class:"h4"},D={class:"d-flex align-items-center mb-3"},B={class:"font--lg text-secondary mb-0 me-1"},W={class:"badge bg-success"},F={class:"badge bg-primary"},T={class:"badge bg--orange"},z={class:"badge bg-danger"},$={class:"d-flex align-items-center"},H={class:"h5 me-3"},M={key:0,class:"h5 text--purple text-decoration-line-through"},J=Object(r["createVNode"])("hr",null,null,-1),P=Object(r["createVNode"])("p",{class:"h6"},"劇情簡介：",-1),R={class:"font--sm lh-lg"},I={class:"d-flex justify-content-end align-items-center position-absolute bottom--num right--num"},U={class:"d-flex me-3"},A=Object(r["createVNode"])("span",{class:"material-icons font--sm"}," shopping_basket ",-1),L=Object(r["createTextVNode"])(" 放購物車 "),q={class:"container-lg border-5 border--top--purple pt-3 pb-5"},E=Object(r["createVNode"])("h3",{class:"h2 text-center mb-3"},"同類影音",-1),G={class:"row"},K={class:"card position-relative box--shadow"},Q={key:0,class:"material-icons text-danger"},X={key:1,class:"material-icons text-white"},Y={class:"badge bg-warning text-white position-absolute top--10 start--10 zindex--cat d-flex"},Z={class:"p-3"},ee={class:"card-body pt-1"},te={class:"card-title text-center h5"},ce={class:"card-text text-center h5 fw-bolder"},re={class:"d-flex justify-content-between"},ae=Object(r["createVNode"])("span",{class:"material-icons font--sm"}," shopping_basket ",-1),oe=Object(r["createTextVNode"])(" 放購物車 "),ie=Object(r["createVNode"])("span",{class:"material-icons font--sm"}," settings_suggest ",-1),ne=Object(r["createTextVNode"])(" 商品詳細 ");function se(e,t,c,se,de,le){var ue=Object(r["resolveComponent"])("router-link"),be=Object(r["resolveComponent"])("swiper-slide"),pe=Object(r["resolveComponent"])("swiper");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[a,Object(r["createVNode"])("div",o,[Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",n,[Object(r["createVNode"])("div",s,[Object(r["createVNode"])("nav",d,[Object(r["createVNode"])("ol",l,[Object(r["createVNode"])("li",u,[Object(r["createVNode"])(ue,{to:"/",class:"text-secondary text-decoration-none"},{default:Object(r["withCtx"])((function(){return[b]})),_:1})]),Object(r["createVNode"])("li",p,[Object(r["createVNode"])(ue,{to:"/products",class:"text-secondary text-decoration-none"},{default:Object(r["withCtx"])((function(){return[m]})),_:1})]),Object(r["createVNode"])("li",j,Object(r["toDisplayString"])(de.product.category),1),Object(r["createVNode"])("li",O,Object(r["toDisplayString"])(de.product.title),1)])]),Object(r["createVNode"])("div",g,[Object(r["createVNode"])("img",{src:de.product.imageUrl,alt:"",class:"w-100 img__productDetail"},null,8,["src"])])])]),Object(r["createVNode"])("div",h,[Object(r["createVNode"])("div",f,[Object(r["createVNode"])("nav",N,[Object(r["createVNode"])("ol",v,[Object(r["createVNode"])("li",V,[Object(r["createVNode"])(ue,{to:"/",class:"text-secondary text-decoration-none"},{default:Object(r["withCtx"])((function(){return[x]})),_:1})]),Object(r["createVNode"])("li",w,[Object(r["createVNode"])(ue,{to:"/products",class:"text-secondary text-decoration-none"},{default:Object(r["withCtx"])((function(){return[y]})),_:1})]),Object(r["createVNode"])("li",k,Object(r["toDisplayString"])(de.product.category),1),Object(r["createVNode"])("li",S,Object(r["toDisplayString"])(de.product.title),1)])]),Object(r["createVNode"])("div",_,[Object(r["createVNode"])("h2",C,Object(r["toDisplayString"])(de.product.title),1),Object(r["createVNode"])("div",D,[Object(r["createVNode"])("span",B,Object(r["toDisplayString"])(de.product.year),1),Object(r["withDirectives"])(Object(r["createVNode"])("span",W,"普",512),[[r["vShow"],"g"===de.product.range]]),Object(r["withDirectives"])(Object(r["createVNode"])("span",F,"保",512),[[r["vShow"],"pg"===de.product.range]]),Object(r["withDirectives"])(Object(r["createVNode"])("span",T,"輔",512),[[r["vShow"],"pg-13"===de.product.range]]),Object(r["withDirectives"])(Object(r["createVNode"])("span",z,"限",512),[[r["vShow"],"r"===de.product.range]])]),Object(r["createVNode"])("div",$,[Object(r["createVNode"])("p",H,"NT$"+Object(r["toDisplayString"])(de.product.price),1),de.product.price!==de.product.origin_price?(Object(r["openBlock"])(),Object(r["createBlock"])("p",M,"NT$"+Object(r["toDisplayString"])(de.product.origin_price),1)):Object(r["createCommentVNode"])("",!0)]),J,P,Object(r["createVNode"])("p",R,Object(r["toDisplayString"])(de.product.description),1),Object(r["createVNode"])("div",I,[Object(r["createVNode"])("div",U,[Object(r["createVNode"])("a",{href:"#",class:"btn btn-outline-light d-flex align-items-center",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(e){return le.buyNumHandler("minus")}),["prevent"]))}," - "),Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"number",min:"1",class:"bg-dark border-1 border-light text-white text-center input--num","onUpdate:modelValue":t[2]||(t[2]=function(e){return de.buyNum=e})},null,512),[[r["vModelText"],de.buyNum]]),Object(r["createVNode"])("a",{href:"#",class:"btn btn-outline-light d-flex align-items-center",onClick:t[3]||(t[3]=Object(r["withModifiers"])((function(e){return le.buyNumHandler("plus")}),["prevent"]))}," + ")]),Object(r["createVNode"])("a",{href:"#",class:"btn btn--warning d-flex align-items-center w--num justify-content-center",onClick:t[4]||(t[4]=Object(r["withModifiers"])((function(t){return e.$emit("add-cart",de.product,de.buyNum)}),["prevent"]))},[A,L])])])])])])]),Object(r["createVNode"])("div",q,[E,Object(r["createVNode"])("div",G,[Object(r["createVNode"])(pe,{"slides-per-view":de.slideNum,"space-between":50,onSwiper:le.onSwiper,onSlideChange:le.onSlideChange,autoplay:{delay:4e3,disableOnInteraction:!1}},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(le.filterCat,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])(be,{class:"col-3 mb-5 position-relative",key:t.id},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",K,[Object(r["createVNode"])("button",{class:"btn btn-dark top-0 end-0 zindex--cat position-absolute border-0",onClick:function(e){return le.addFavoriteHandler(t)}},[de.myFavorite.includes(t.id)?(Object(r["openBlock"])(),Object(r["createBlock"])("span",Q,"bookmark")):(Object(r["openBlock"])(),Object(r["createBlock"])("span",X,"bookmark"))],8,["onClick"]),Object(r["createVNode"])("span",Y,Object(r["toDisplayString"])(t.category),1),Object(r["createVNode"])("div",Z,[Object(r["createVNode"])(ue,{class:"img__card__suggest overflow-hidden position-relative d-block",to:"/productDetail/".concat(t.id)},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("img",{src:t.imageUrl,class:"card-img-top img__card__suggest__inside",alt:"..."},null,8,["src"])]})),_:2},1032,["to"])]),Object(r["createVNode"])("div",ee,[Object(r["createVNode"])("h3",te,Object(r["toDisplayString"])(t.title),1),Object(r["createVNode"])("p",ce,"$"+Object(r["toDisplayString"])(t.price),1),Object(r["createVNode"])("div",re,[Object(r["createVNode"])("a",{href:"#",class:"btn btn-primary d-flex align-items-center",onClick:Object(r["withModifiers"])((function(c){return e.$emit("add-cart",t,1)}),["prevent"])},[ae,oe],8,["onClick"]),Object(r["createVNode"])(ue,{href:"#",class:"btn btn-secondary d-flex align-items-center",to:"/productDetail/".concat(t.id)},{default:Object(r["withCtx"])((function(){return[ie,ne]})),_:2},1032,["to"])])])])]})),_:2},1024)})),128))]})),_:1},8,["slides-per-view","onSwiper","onSlideChange"])])])])}var de=c("1da1"),le=(c("96cf"),c("a434"),c("99af"),c("4de4"),c("6d3b")),ue=c("d17a"),be=c("90ea"),pe=c("a16a");c("5f67");le["a"].use([ue["a"]]);var me={save:function(e){var t=JSON.stringify(e);localStorage.setItem("favorite",t)},get:function(){return JSON.parse(localStorage.getItem("favorite"))}},je={components:{Swiper:be["a"],SwiperSlide:pe["a"]},data:function(){return{product:{},fullWidth:0,slideNum:0,products:[],buyNum:1,myFavorite:me.get()||[]}},methods:{addFavoriteHandler:function(e){console.log("favorite"),this.myFavorite.includes(e.id)?this.myFavorite.splice(this.myFavorite.indexOf(e.id),1):this.myFavorite.push(e.id),me.save(this.myFavorite)},adjustWindowSize:function(){this.fullWidth=window.innerWidth,this.fullWidth>1200?this.slideNum=4:this.fullWidth>768?this.slideNum=3:this.fullWidth>576?this.slideNum=2:this.slideNum=1},getProduct:function(){var e=this,t=this.$route.params.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/product/").concat(t);this.axios.get(c).then((function(t){console.log(t),e.product=t.data.product})).catch((function(e){return console.log(e)}))},getProducts:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){var c,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/products/all"),r=e,t.prev=2,t.next=5,r.axios.get(c);case 5:a=t.sent,e.products=a.data.products,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},buyNumHandler:function(e){this.buyNum>1?"plus"===e?this.buyNum+=1:this.buyNum-=1:"plus"===e?this.buyNum+=1:this.buyNum=1},onSwiper:function(e){console.log(e)},onSlideChange:function(){console.log("slide change")}},computed:{filterCat:function(){var e=this;return this.products.filter((function(t){return t.category===e.product.category&&t.id!==e.product.id}))}},created:function(){this.getProduct()},mounted:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProducts();case 2:c=e,c.fullWidth=window.innerWidth,e.adjustWindowSize(),window.onresize=function(){e.adjustWindowSize()};case 6:case"end":return t.stop()}}),t)})))()}};je.render=se;t["default"]=je}}]);
//# sourceMappingURL=chunk-e64cabbe.eabd9859.js.map