(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23baca96"],{1799:function(t,e,a){"use strict";var c=a("7a23"),o={"aria-label":"Page navigation"},r={class:"pagination justify-content-center"},n=Object(c["h"])("span",{"aria-hidden":"true"},"«",-1),l=Object(c["h"])("span",{"aria-hidden":"true"},"»",-1);function s(t,e,a,s,d,i){return Object(c["u"])(),Object(c["d"])("nav",o,[Object(c["h"])("ul",r,[Object(c["h"])("li",{class:["page-item",{disabled:!a.page.has_pre}]},[Object(c["h"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[1]||(e[1]=Object(c["J"])((function(e){return t.$emit("get-product",a.page.current_page-1)}),["prevent"]))},[n])],2),(Object(c["u"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(a.page.total_pages,(function(e){return Object(c["u"])(),Object(c["d"])("li",{class:["page-item",{active:e===a.page.current_page}],key:e},[Object(c["h"])("a",{class:"page-link",href:"#",onClick:Object(c["J"])((function(a){return t.$emit("get-product",e)}),["prevent"])},Object(c["B"])(e),9,["onClick"])],2)})),128)),Object(c["h"])("li",{class:["page-item",{disabled:!a.page.has_next}]},[Object(c["h"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[2]||(e[2]=Object(c["J"])((function(e){return t.$emit("get-product",a.page.current_page+1)}),["prevent"]))},[l])],2)])])}var d={props:["page"]};d.render=s;e["a"]=d},"1dde":function(t,e,a){var c=a("d039"),o=a("b622"),r=a("2d00"),n=o("species");t.exports=function(t){return r>=51||!c((function(){var e=[],a=e.constructor={};return a[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"57c8":function(t,e,a){"use strict";a.r(e);a("b0c0");var c=a("7a23"),o={class:"container-fluid"},r=Object(c["h"])("h2",{class:"h5 text-white mt-5"}," # 訂單列表 ",-1),n={class:"rounded bg-dark p-3 mb-5 box--shadow"},l={class:"d-flex justify-content-end mb-3"},s=Object(c["h"])("span",{class:"material-icons font--sm"},"remove",-1),d=Object(c["g"])(" 刪除全部 "),i={class:"table table-dark"},u=Object(c["h"])("thead",null,[Object(c["h"])("tr",{class:"table--purple"},[Object(c["h"])("th",{scope:"col",width:"120"},"訂單編號"),Object(c["h"])("th",{scope:"col",width:"180"},"客戶姓名"),Object(c["h"])("th",{scope:"col",width:"120"},"購買日期"),Object(c["h"])("th",{scope:"col",width:"120"},"總價"),Object(c["h"])("th",{scope:"col",width:"100"},"付款狀態"),Object(c["h"])("th",{scope:"col"},"客戶留言"),Object(c["h"])("th",{scope:"col",width:"180"},"編輯")])],-1),b={scope:"row"},h=Object(c["h"])("span",{class:"material-icons font--sm"},"edit",-1),p=Object(c["g"])(" 編輯 "),O=Object(c["h"])("span",{class:"material-icons font--sm"},"delete",-1),m=Object(c["g"])(" 刪除 ");function j(t,e,a,j,f,g){var v=Object(c["z"])("PaginationCom"),y=Object(c["z"])("OrderModalCom");return Object(c["u"])(),Object(c["d"])("div",o,[r,Object(c["h"])("div",n,[Object(c["h"])("div",l,[Object(c["h"])("button",{type:"button",class:"btn btn--purple text-white","data-bs-toggle":"modal","data-bs-target":"#orderModal",onClick:e[1]||(e[1]=function(t){return g.adjustStatus(!0)})},[s,d])]),Object(c["h"])("table",i,[u,Object(c["h"])("tbody",null,[(Object(c["u"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(f.orders,(function(t){return Object(c["u"])(),Object(c["d"])("tr",{key:t.id},[Object(c["h"])("th",b,Object(c["B"])(t.num),1),Object(c["h"])("td",null,Object(c["B"])(t.user.name),1),Object(c["h"])("td",null,Object(c["B"])(t.create_at),1),Object(c["h"])("td",null,Object(c["B"])(t.total),1),Object(c["h"])("td",null,Object(c["B"])(t.is_paid),1),Object(c["h"])("td",null,Object(c["B"])(t.message),1),Object(c["h"])("td",null,[Object(c["h"])("button",{type:"button",class:"btn btn-sm btn-light me-1","data-bs-toggle":"modal","data-bs-target":"#orderModal",onClick:function(e){return g.adjustStatus(!1,t,"put")}},[h,p],8,["onClick"]),Object(c["h"])("button",{type:"button",class:"btn btn-sm btn-danger text-white","data-bs-toggle":"modal","data-bs-target":"#orderModal",onClick:function(e){return g.adjustStatus(!1,t,"del")}},[O,m],8,["onClick"])])])})),128))])]),Object(c["h"])(v,{page:f.pagination},null,8,["page"])]),Object(c["h"])(y,{ref:"modal",onGetOrder:g.getOrder,"is-delet-all":f.isDeleteAll,status:f.status},null,8,["onGetOrder","is-delet-all","status"])])}a("99af");var f={id:"orderModal",ref:"modal",class:"modal fade",tabindex:"-1","aria-labelledby":"orderModalLabel","aria-hidden":"true"},g={key:0,class:"modal-dialog modal-xl modal-dialog-centered"},v={class:"modal-content border-0"},y=Object(c["h"])("div",{class:"modal-header bg-dark text-white"},[Object(c["h"])("h5",{id:"productModalLabel",class:"modal-title"},[Object(c["h"])("span",null,"編輯訂單")]),Object(c["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),x={class:"modal-body"},w={class:"row"},k={class:"form-group col-md-6"},_=Object(c["h"])("label",{for:"username"},"顧客名稱",-1),C={class:"form-group col-md-6"},A=Object(c["h"])("label",{for:"usertel"},"顧客電話",-1),M={class:"row"},I={class:"form-group col-md-6"},$=Object(c["h"])("label",{for:"useremail"},"顧客信箱",-1),B={class:"form-group col-md-6"},F=Object(c["h"])("label",{for:"useraddress"},"顧客地址",-1),S=Object(c["h"])("hr",null,null,-1),U={class:"row"},V={class:"col-md-4"},J=Object(c["h"])("label",{for:"is_paid"},"是否付款",-1),P={class:"input-group mb-0"},D=Object(c["h"])("option",{value:"ture"},"是",-1),E=Object(c["h"])("option",{value:"false"},"否",-1),L={class:"col-md-4"},N=Object(c["h"])("label",{for:"paid_date"},"付款日期",-1),z={class:"col-md-4"},G=Object(c["h"])("label",{for:"payment_method"},"付款方式",-1),T={class:"form-group"},q=Object(c["h"])("label",{for:"total"},"訂單總額",-1),H={class:"modal-footer"},K=Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1),Q={key:1,class:"modal-dialog modal-dialog-centered"},R={class:"modal-content border-0"},W={class:"modal-header bg-danger text-white"},X={id:"delProductModalLabel",class:"modal-title"},Y={key:0},Z={key:1},tt=Object(c["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),et=Object(c["h"])("div",{class:"modal-body"},[Object(c["g"])(" 是否刪除 "),Object(c["h"])("strong",{class:"text-danger"}),Object(c["g"])(" 商品(刪除後將無法恢復)。 ")],-1),at={class:"modal-footer"},ct=Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function ot(t,e,a,o,r,n){return Object(c["u"])(),Object(c["d"])("div",f,["put"===a.status?(Object(c["u"])(),Object(c["d"])("div",g,[Object(c["h"])("div",v,[y,Object(c["h"])("div",x,[Object(c["h"])("div",w,[Object(c["h"])("div",k,[_,Object(c["I"])(Object(c["h"])("input",{id:"username",type:"text",class:"form-control",placeholder:"請輸入顧客名稱","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.tempOrder.user.name=t})},null,512),[[c["F"],r.tempOrder.user.name]])]),Object(c["h"])("div",C,[A,Object(c["I"])(Object(c["h"])("input",{id:"usertel",type:"number",class:"form-control",placeholder:"請輸入顧客電話","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.tempOrder.user.tel=t})},null,512),[[c["F"],r.tempOrder.user.tel]])])]),Object(c["h"])("div",M,[Object(c["h"])("div",I,[$,Object(c["I"])(Object(c["h"])("input",{id:"useremail",type:"text",class:"form-control",placeholder:"請輸入顧客信箱","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.tempOrder.user.email=t})},null,512),[[c["F"],r.tempOrder.user.email]])]),Object(c["h"])("div",B,[F,Object(c["I"])(Object(c["h"])("input",{id:"useraddress",type:"text",class:"form-control",placeholder:"請輸入顧客地址","onUpdate:modelValue":e[4]||(e[4]=function(t){return r.tempOrder.user.address=t})},null,512),[[c["F"],r.tempOrder.user.address]])])]),S,Object(c["h"])("div",U,[Object(c["h"])("div",V,[J,Object(c["h"])("div",P,[Object(c["I"])(Object(c["h"])("select",{class:"form-select",id:"is_paid","onUpdate:modelValue":e[5]||(e[5]=function(t){return r.tempOrder.is_paid=t})},[D,E],512),[[c["E"],r.tempOrder.is_paid]])])]),Object(c["h"])("div",L,[N,Object(c["I"])(Object(c["h"])("input",{id:"paid_date",type:"date",class:"form-control",placeholder:"請輸入付款方式","onUpdate:modelValue":e[6]||(e[6]=function(t){return r.tempOrder.paid_date=t})},null,512),[[c["F"],r.tempOrder.paid_date]])]),Object(c["h"])("div",z,[G,Object(c["I"])(Object(c["h"])("input",{id:"payment_method",type:"text",class:"form-control",placeholder:"請輸入付款方式","onUpdate:modelValue":e[7]||(e[7]=function(t){return r.tempOrder.payment_method=t})},null,512),[[c["F"],r.tempOrder.payment_method]])])]),Object(c["h"])("div",T,[q,Object(c["I"])(Object(c["h"])("input",{id:"total",type:"number",min:"0",class:"form-control",placeholder:"請輸入訂單總額","onUpdate:modelValue":e[8]||(e[8]=function(t){return r.tempOrder.total=t})},null,512),[[c["F"],r.tempOrder.total]])])]),Object(c["h"])("div",H,[K,Object(c["h"])("button",{type:"button",class:"btn btn-primary",onClick:e[9]||(e[9]=function(t){return n.updateOrder(r.tempOrder)})}," 確認 ")])])])):(Object(c["u"])(),Object(c["d"])("div",Q,[Object(c["h"])("div",R,[Object(c["h"])("div",W,[Object(c["h"])("h5",X,["delAll"===a.status?(Object(c["u"])(),Object(c["d"])("span",Y,"刪除全部")):(Object(c["u"])(),Object(c["d"])("span",Z,"刪除訂單"))]),tt]),et,Object(c["h"])("div",at,[ct,Object(c["h"])("button",{type:"button",class:"btn btn-danger",onClick:e[10]||(e[10]=function(){return n.delOrder&&n.delOrder.apply(n,arguments)})}," 確認刪除 ")])])]))],512)}var rt=a("7b17"),nt={props:["isDeleteAll","status"],data:function(){return{tempOrder:{}}},methods:{updateOrder:function(t){var e=this;console.log(t);var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/admin/order/").concat(t.id);this.tempOrder.total=parseInt(this.tempOrder.total),this.axios.put(a,{headers:{"Access-Control-Allow-Origin":"*"},data:this.tempOrder}).then((function(t){console.log(t),t.data.success?(e.$emit("get-order"),e.modal.hide()):alert("編輯有誤")})).catch((function(t){return console.log(t.message)}))},delOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/admin/order/").concat(this.tempProduct.id);"delAll"===this.status&&(e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/admin/orders/all")),this.axios.delete(e).then((function(e){console.log(e),e.data.success&&(t.$emit("get-order"),t.modal.hide())})).catch((function(t){return console.log(t)}))}},mounted:function(){this.modal=new rt["a"](this.$refs.modal)}};nt.render=ot;var lt=nt,st=a("1799"),dt={components:{OrderModalCom:lt,PaginationCom:st["a"]},data:function(){return{orderModal:{},orders:[],pagination:{},isDeleteAll:!1,status:""}},methods:{getOrder:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/admin/orders?page=").concat(e);this.axios.get(a).then((function(e){console.log(e.data),e.data.success&&(t.orders=e.data.orders,t.pagination=e.data.pagination)})).catch((function(t){return console.log(t)}))},adjustStatus:function(t,e,a){this.isDeleteAll=t,this.isDeleteAll?this.status="delAll":this.status="put"===a?"put":"delete",e&&(this.$refs.modal.tempOrder=JSON.parse(JSON.stringify(e)),this.$bus.emit("tempOrder",this.$refs.modal.tempOrder))}},created:function(){this.getOrder()}};dt.render=j;e["default"]=dt},"65f0":function(t,e,a){var c=a("861d"),o=a("e8b5"),r=a("b622"),n=r("species");t.exports=function(t,e){var a;return o(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?c(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},8418:function(t,e,a){"use strict";var c=a("c04e"),o=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var n=c(e);n in t?o.f(t,n,r(0,a)):t[n]=a}},"99af":function(t,e,a){"use strict";var c=a("23e7"),o=a("d039"),r=a("e8b5"),n=a("861d"),l=a("7b0b"),s=a("50c4"),d=a("8418"),i=a("65f0"),u=a("1dde"),b=a("b622"),h=a("2d00"),p=b("isConcatSpreadable"),O=9007199254740991,m="Maximum allowed index exceeded",j=h>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),f=u("concat"),g=function(t){if(!n(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},v=!j||!f;c({target:"Array",proto:!0,forced:v},{concat:function(t){var e,a,c,o,r,n=l(this),u=i(n,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(r=-1===e?n:arguments[e],g(r)){if(o=s(r.length),b+o>O)throw TypeError(m);for(a=0;a<o;a++,b++)a in r&&d(u,b,r[a])}else{if(b>=O)throw TypeError(m);d(u,b++,r)}return u.length=b,u}})},b0c0:function(t,e,a){var c=a("83ab"),o=a("9bf2").f,r=Function.prototype,n=r.toString,l=/^\s*function ([^ (]*)/,s="name";c&&!(s in r)&&o(r,s,{configurable:!0,get:function(){try{return n.call(this).match(l)[1]}catch(t){return""}}})},e8b5:function(t,e,a){var c=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-23baca96.4ff45a43.js.map