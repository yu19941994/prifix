{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/views/Front/ProductDetail.vue","webpack:///./src/views/Front/ProductDetail.vue?7b3d"],"names":["$","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","this","arguments","length","undefined","class","aria-label","aria-current","href","to","product","category","title","src","imageUrl","alt","year","range","price","origin_price","description","buyNumHandler","type","min","buyNum","addCart","slides-per-view","slideNum","space-between","onSwiper","onSlideChange","autoplay","filterCat","item","key","id","use","components","Swiper","SwiperSlide","data","fullWidth","products","methods","adjustWindowSize","window","innerWidth","getProduct","pdId","$route","params","url","axios","get","then","res","console","log","catch","err","getProducts","vm","action","swiper","post","product_id","qty","$swal","icon","computed","created","mounted","onresize","render"],"mappings":"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","file":"js/chunk-e64cabbe.e132fece.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\n  <div>\n    <!-- banner -->\n   <div class=\"bg__productDetail__banner mb-5\">\n     <div class=\"row d-flex justify-content-center align-items-center h-100\">\n       <div class=\"col-6 col-lg-4\">\n         <div class=\"bg-light py-2 py-sm-4 rounded opacity__banner\">\n           <h2 class=\"text-center font--banner mb-0\">商品介紹</h2>\n         </div>\n       </div>\n     </div>\n   </div>\n   <!-- product -->\n   <div class=\"container-lg pt-3 pb-5\">\n      <div class=\"row\">\n        <div class=\"col-12 col-md-4 col-lg-5\">\n          <div class=\"mb-5 mb-md-0\">\n            <nav aria-label=\"breadcrumb\" class=\"mb-3 d-md-none font--sm px-5\">\n              <ol class=\"breadcrumb\">\n                <li class=\"breadcrumb-item\"><router-link to=\"/\" class=\"text-secondary text-decoration-none\">首頁</router-link></li>\n                <li class=\"breadcrumb-item\"><router-link to=\"/products\" class=\"text-secondary text-decoration-none\">影音商品</router-link></li>\n                <li class=\"breadcrumb-item\">{{ product.category }}</li>\n                <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\n              </ol>\n            </nav>\n            <div class=\"px-5 px-md-0 px-lg-3\">\n              <img :src=\"product.imageUrl\" alt=\"\" class=\"w-100 img__productDetail\">\n            </div>\n          </div>\n        </div>\n        <div class=\"col-12 col-md-8 col-lg-7\">\n          <div class=\"px-5 px-md-0\">\n            <nav aria-label=\"breadcrumb\" class=\"mb-3 d-none d-md-block\">\n              <ol class=\"breadcrumb\">\n                <li class=\"breadcrumb-item\"><router-link to=\"/\" class=\"text-secondary text-decoration-none\">首頁</router-link></li>\n                <li class=\"breadcrumb-item\"><router-link to=\"/products\" class=\"text-secondary text-decoration-none\">影音商品</router-link></li>\n                <li class=\"breadcrumb-item\">{{ product.category }}</li>\n                <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\n              </ol>\n            </nav>\n            <div class=\"bg-dark text-white p-3 position-relative h--productDetail\">\n              <h2 class=\"h4\">{{ product.title }}</h2>\n              <div class=\"d-flex align-items-center mb-3\">\n                <span class=\"font--lg text-secondary mb-0 me-1\">{{ product.year }}</span>\n                <span class=\"badge bg-success\" v-show=\"product.range === 'g'\">普</span>\n                <span class=\"badge bg-primary\" v-show=\"product.range === 'pg'\">保</span>\n                <span class=\"badge bg--orange\" v-show=\"product.range === 'pg-13'\">輔</span>\n                <span class=\"badge bg-danger\" v-show=\"product.range === 'r'\">限</span>\n              </div>\n              <div class=\"d-flex align-items-center\">\n                <p class=\"h5 me-3\">NT${{ product.price }}</p>\n                <p class=\"h5 text--purple text-decoration-line-through\" v-if=\"product.price !== product.origin_price\">NT${{ product.origin_price }}</p>\n              </div>\n              <hr>\n              <p class=\"h6\">劇情簡介：</p>\n              <p class=\"font--sm lh-lg\">\n                {{ product.description }}\n              </p>\n              <div class=\"d-flex justify-content-end align-items-center position-absolute bottom--num right--num\">\n                <div class=\"d-flex me-3\">\n                  <a href=\"#\" class=\"btn btn-outline-light d-flex align-items-center\" @click.prevent=\"buyNumHandler('minus')\">\n                    -\n                  </a>\n                  <input type=\"number\" min=\"1\" class=\"bg-dark border-1 border-light text-white text-center input--num\" v-model=\"buyNum\">\n                  <a href=\"#\" class=\"btn btn-outline-light d-flex align-items-center\" @click.prevent=\"buyNumHandler('plus')\">\n                    +\n                  </a>\n                </div>\n                <a href=\"#\" class=\"btn btn--warning d-flex align-items-center w--num justify-content-center\" @click.prevent=\"addCart\">\n                  <span class=\"material-icons font--sm\">\n                    shopping_basket\n                  </span>\n                  放購物車\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n   </div>\n   <!-- suggest -->\n   <div class=\"container-lg border-5 border--top--purple pt-3 pb-5\">\n     <h3 class=\"h2 text-center mb-3\">同類影音</h3>\n     <div class=\"row\">\n      <swiper\n        :slides-per-view=\"slideNum\"\n        :space-between=\"50\"\n        @swiper=\"onSwiper\"\n        @slideChange=\"onSlideChange\"\n        :autoplay='\n        {\n          \"delay\": 4000,\n          \"disableOnInteraction\": false\n        }'\n      >\n        <swiper-slide class=\"col-3 mb-5 position-relative\" v-for=\"item of filterCat\" :key=\"item.id\">\n          <div class=\"card position-relative box--shadow\">\n            <span class=\"badge bg-warning text-white position-absolute top--10 start--10 zindex--cat d-flex\">{{ item.category }}</span>\n            <div class=\"p-3\">\n              <router-link class=\"img__card__suggest overflow-hidden position-relative d-block\" :to=\"`/productDetail/${item.id}`\">\n                <img :src=\"item.imageUrl\" class=\"card-img-top img__card__suggest__inside\" alt=\"...\">\n              </router-link>\n            </div>\n            <div class=\"card-body pt-1\">\n              <h3 class=\"card-title text-center h5\">{{ item.title }}</h3>\n              <p class=\"card-text text-center h5 fw-bolder\">${{ item.price }}</p>\n              <div class=\"d-flex justify-content-between\">\n                <a href=\"#\" class=\"btn btn-primary d-flex align-items-center\">\n                  <span class=\"material-icons font--sm\">\n                    shopping_basket\n                  </span>\n                  放購物車\n                </a>\n                <router-link href=\"#\" class=\"btn btn-secondary d-flex align-items-center\" :to=\"`/productDetail/${item.id}`\">\n                  <span class=\"material-icons font--sm\">\n                    settings_suggest\n                  </span>\n                  商品詳細\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </swiper-slide>\n      </swiper>\n    </div>\n   </div>\n  </div>\n</template>\n\n<script>\nimport SwiperCore, { Autoplay } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/vue'\nimport 'swiper/swiper.scss'\n\nSwiperCore.use([Autoplay])\nexport default {\n  components: {\n    Swiper,\n    SwiperSlide\n  },\n  data () {\n    return {\n      product: {},\n      fullWidth: 0,\n      slideNum: 0,\n      products: [],\n      buyNum: 1\n    }\n  },\n  methods: {\n    adjustWindowSize () {\n      this.fullWidth = window.innerWidth\n      if (this.fullWidth > 1200) {\n        this.slideNum = 4\n      } else if (this.fullWidth > 768) {\n        this.slideNum = 3\n      } else if (this.fullWidth > 576) {\n        this.slideNum = 2\n      } else {\n        this.slideNum = 1\n      }\n    },\n    getProduct () {\n      const pdId = this.$route.params.id\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/product/${pdId}`\n      this.axios.get(url)\n        .then(res => {\n          console.log(res)\n          this.product = res.data.product\n        })\n        .catch(err => console.log(err))\n    },\n    async getProducts () {\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/products/all`\n      const vm = this\n      try {\n        const res = await vm.axios.get(url)\n        this.products = res.data.products\n      } catch (err) {\n        console.log(err)\n      }\n    },\n    buyNumHandler (action) {\n      if (this.buyNum > 1) {\n        action === 'plus' ? (this.buyNum += 1) : (this.buyNum -= 1)\n      } else {\n        action === 'plus' ? (this.buyNum += 1) : (this.buyNum = 1)\n      }\n    },\n    onSwiper (swiper) {\n      console.log(swiper)\n    },\n    onSlideChange () {\n      console.log('slide change')\n    },\n    addCart () {\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/cart`\n      this.axios.post(url, { data: { product_id: this.product.id, qty: this.buyNum } })\n        .then(res => {\n          console.log(res)\n          this.$swal({ title: '成功加入購物車', icon: 'success' })\n          this.buyNum = 1\n        })\n        .catch(err => console.log(err))\n    }\n  },\n  computed: {\n    filterCat () {\n      return this.products.filter(item => item.category === this.product.category && (item.id !== this.product.id))\n    }\n  },\n  created () {\n    this.getProduct()\n  },\n  async mounted () {\n    await this.getProducts()\n    const vm = this\n    vm.fullWidth = window.innerWidth\n    this.adjustWindowSize()\n    window.onresize = () => {\n      this.adjustWindowSize()\n    }\n  }\n}\n</script>\n","import { render } from \"./ProductDetail.vue?vue&type=template&id=7a7b64ec\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}