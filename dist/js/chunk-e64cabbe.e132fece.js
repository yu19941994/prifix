(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e64cabbe"],{"4de4":function(e,t,c){"use strict";var r=c("23e7"),a=c("b727").filter,o=c("1dde"),i=o("filter");r({target:"Array",proto:!0,forced:!i},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"593f":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var r=c("7a23"),a=Object(r["createStaticVNode"])('<div class="bg__productDetail__banner mb-5"><div class="row d-flex justify-content-center align-items-center h-100"><div class="col-6 col-lg-4"><div class="bg-light py-2 py-sm-4 rounded opacity__banner"><h2 class="text-center font--banner mb-0">商品介紹</h2></div></div></div></div>',1),o={class:"container-lg pt-3 pb-5"},i={class:"row"},n={class:"col-12 col-md-4 col-lg-5"},s={class:"mb-5 mb-md-0"},d={"aria-label":"breadcrumb",class:"mb-3 d-md-none font--sm px-5"},l={class:"breadcrumb"},u={class:"breadcrumb-item"},b=Object(r["createTextVNode"])("首頁"),p={class:"breadcrumb-item"},h=Object(r["createTextVNode"])("影音商品"),j={class:"breadcrumb-item"},m={class:"breadcrumb-item active","aria-current":"page"},O={class:"px-5 px-md-0 px-lg-3"},g={class:"col-12 col-md-8 col-lg-7"},f={class:"px-5 px-md-0"},N={"aria-label":"breadcrumb",class:"mb-3 d-none d-md-block"},v={class:"breadcrumb"},V={class:"breadcrumb-item"},w=Object(r["createTextVNode"])("首頁"),x={class:"breadcrumb-item"},y=Object(r["createTextVNode"])("影音商品"),_={class:"breadcrumb-item"},S={class:"breadcrumb-item active","aria-current":"page"},k={class:"bg-dark text-white p-3 position-relative h--productDetail"},C={class:"h4"},D={class:"d-flex align-items-center mb-3"},W={class:"font--lg text-secondary mb-0 me-1"},T={class:"badge bg-success"},B={class:"badge bg-primary"},z={class:"badge bg--orange"},$={class:"badge bg-danger"},M={class:"d-flex align-items-center"},P={class:"h5 me-3"},R={key:0,class:"h5 text--purple text-decoration-line-through"},H=Object(r["createVNode"])("hr",null,null,-1),U=Object(r["createVNode"])("p",{class:"h6"},"劇情簡介：",-1),J={class:"font--sm lh-lg"},q={class:"d-flex justify-content-end align-items-center position-absolute bottom--num right--num"},A={class:"d-flex me-3"},F=Object(r["createVNode"])("span",{class:"material-icons font--sm"}," shopping_basket ",-1),I=Object(r["createTextVNode"])(" 放購物車 "),L={class:"container-lg border-5 border--top--purple pt-3 pb-5"},E=Object(r["createVNode"])("h3",{class:"h2 text-center mb-3"},"同類影音",-1),G={class:"row"},K={class:"card position-relative box--shadow"},Q={class:"badge bg-warning text-white position-absolute top--10 start--10 zindex--cat d-flex"},X={class:"p-3"},Y={class:"card-body pt-1"},Z={class:"card-title text-center h5"},ee={class:"card-text text-center h5 fw-bolder"},te={class:"d-flex justify-content-between"},ce=Object(r["createVNode"])("a",{href:"#",class:"btn btn-primary d-flex align-items-center"},[Object(r["createVNode"])("span",{class:"material-icons font--sm"}," shopping_basket "),Object(r["createTextVNode"])(" 放購物車 ")],-1),re=Object(r["createVNode"])("span",{class:"material-icons font--sm"}," settings_suggest ",-1),ae=Object(r["createTextVNode"])(" 商品詳細 ");function oe(e,t,c,oe,ie,ne){var se=Object(r["resolveComponent"])("router-link"),de=Object(r["resolveComponent"])("swiper-slide"),le=Object(r["resolveComponent"])("swiper");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[a,Object(r["createVNode"])("div",o,[Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",n,[Object(r["createVNode"])("div",s,[Object(r["createVNode"])("nav",d,[Object(r["createVNode"])("ol",l,[Object(r["createVNode"])("li",u,[Object(r["createVNode"])(se,{to:"/",class:"text-secondary text-decoration-none"},{default:Object(r["withCtx"])((function(){return[b]})),_:1})]),Object(r["createVNode"])("li",p,[Object(r["createVNode"])(se,{to:"/products",class:"text-secondary text-decoration-none"},{default:Object(r["withCtx"])((function(){return[h]})),_:1})]),Object(r["createVNode"])("li",j,Object(r["toDisplayString"])(ie.product.category),1),Object(r["createVNode"])("li",m,Object(r["toDisplayString"])(ie.product.title),1)])]),Object(r["createVNode"])("div",O,[Object(r["createVNode"])("img",{src:ie.product.imageUrl,alt:"",class:"w-100 img__productDetail"},null,8,["src"])])])]),Object(r["createVNode"])("div",g,[Object(r["createVNode"])("div",f,[Object(r["createVNode"])("nav",N,[Object(r["createVNode"])("ol",v,[Object(r["createVNode"])("li",V,[Object(r["createVNode"])(se,{to:"/",class:"text-secondary text-decoration-none"},{default:Object(r["withCtx"])((function(){return[w]})),_:1})]),Object(r["createVNode"])("li",x,[Object(r["createVNode"])(se,{to:"/products",class:"text-secondary text-decoration-none"},{default:Object(r["withCtx"])((function(){return[y]})),_:1})]),Object(r["createVNode"])("li",_,Object(r["toDisplayString"])(ie.product.category),1),Object(r["createVNode"])("li",S,Object(r["toDisplayString"])(ie.product.title),1)])]),Object(r["createVNode"])("div",k,[Object(r["createVNode"])("h2",C,Object(r["toDisplayString"])(ie.product.title),1),Object(r["createVNode"])("div",D,[Object(r["createVNode"])("span",W,Object(r["toDisplayString"])(ie.product.year),1),Object(r["withDirectives"])(Object(r["createVNode"])("span",T,"普",512),[[r["vShow"],"g"===ie.product.range]]),Object(r["withDirectives"])(Object(r["createVNode"])("span",B,"保",512),[[r["vShow"],"pg"===ie.product.range]]),Object(r["withDirectives"])(Object(r["createVNode"])("span",z,"輔",512),[[r["vShow"],"pg-13"===ie.product.range]]),Object(r["withDirectives"])(Object(r["createVNode"])("span",$,"限",512),[[r["vShow"],"r"===ie.product.range]])]),Object(r["createVNode"])("div",M,[Object(r["createVNode"])("p",P,"NT$"+Object(r["toDisplayString"])(ie.product.price),1),ie.product.price!==ie.product.origin_price?(Object(r["openBlock"])(),Object(r["createBlock"])("p",R,"NT$"+Object(r["toDisplayString"])(ie.product.origin_price),1)):Object(r["createCommentVNode"])("",!0)]),H,U,Object(r["createVNode"])("p",J,Object(r["toDisplayString"])(ie.product.description),1),Object(r["createVNode"])("div",q,[Object(r["createVNode"])("div",A,[Object(r["createVNode"])("a",{href:"#",class:"btn btn-outline-light d-flex align-items-center",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(e){return ne.buyNumHandler("minus")}),["prevent"]))}," - "),Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"number",min:"1",class:"bg-dark border-1 border-light text-white text-center input--num","onUpdate:modelValue":t[2]||(t[2]=function(e){return ie.buyNum=e})},null,512),[[r["vModelText"],ie.buyNum]]),Object(r["createVNode"])("a",{href:"#",class:"btn btn-outline-light d-flex align-items-center",onClick:t[3]||(t[3]=Object(r["withModifiers"])((function(e){return ne.buyNumHandler("plus")}),["prevent"]))}," + ")]),Object(r["createVNode"])("a",{href:"#",class:"btn btn--warning d-flex align-items-center w--num justify-content-center",onClick:t[4]||(t[4]=Object(r["withModifiers"])((function(){return ne.addCart&&ne.addCart.apply(ne,arguments)}),["prevent"]))},[F,I])])])])])])]),Object(r["createVNode"])("div",L,[E,Object(r["createVNode"])("div",G,[Object(r["createVNode"])(le,{"slides-per-view":ie.slideNum,"space-between":50,onSwiper:ne.onSwiper,onSlideChange:ne.onSlideChange,autoplay:{delay:4e3,disableOnInteraction:!1}},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(ne.filterCat,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(de,{class:"col-3 mb-5 position-relative",key:e.id},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",K,[Object(r["createVNode"])("span",Q,Object(r["toDisplayString"])(e.category),1),Object(r["createVNode"])("div",X,[Object(r["createVNode"])(se,{class:"img__card__suggest overflow-hidden position-relative d-block",to:"/productDetail/".concat(e.id)},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("img",{src:e.imageUrl,class:"card-img-top img__card__suggest__inside",alt:"..."},null,8,["src"])]})),_:2},1032,["to"])]),Object(r["createVNode"])("div",Y,[Object(r["createVNode"])("h3",Z,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])("p",ee,"$"+Object(r["toDisplayString"])(e.price),1),Object(r["createVNode"])("div",te,[ce,Object(r["createVNode"])(se,{href:"#",class:"btn btn-secondary d-flex align-items-center",to:"/productDetail/".concat(e.id)},{default:Object(r["withCtx"])((function(){return[re,ae]})),_:2},1032,["to"])])])])]})),_:2},1024)})),128))]})),_:1},8,["slides-per-view","onSwiper","onSlideChange"])])])])}var ie=c("1da1"),ne=(c("96cf"),c("99af"),c("4de4"),c("6d3b")),se=c("d17a"),de=c("90ea"),le=c("a16a");c("5f67");ne["a"].use([se["a"]]);var ue={components:{Swiper:de["a"],SwiperSlide:le["a"]},data:function(){return{product:{},fullWidth:0,slideNum:0,products:[],buyNum:1}},methods:{adjustWindowSize:function(){this.fullWidth=window.innerWidth,this.fullWidth>1200?this.slideNum=4:this.fullWidth>768?this.slideNum=3:this.fullWidth>576?this.slideNum=2:this.slideNum=1},getProduct:function(){var e=this,t=this.$route.params.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/product/").concat(t);this.axios.get(c).then((function(t){console.log(t),e.product=t.data.product})).catch((function(e){return console.log(e)}))},getProducts:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){var c,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/products/all"),r=e,t.prev=2,t.next=5,r.axios.get(c);case 5:a=t.sent,e.products=a.data.products,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},buyNumHandler:function(e){this.buyNum>1?"plus"===e?this.buyNum+=1:this.buyNum-=1:"plus"===e?this.buyNum+=1:this.buyNum=1},onSwiper:function(e){console.log(e)},onSlideChange:function(){console.log("slide change")},addCart:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("uy_neish","/cart");this.axios.post(t,{data:{product_id:this.product.id,qty:this.buyNum}}).then((function(t){console.log(t),e.$swal({title:"成功加入購物車",icon:"success"}),e.buyNum=1})).catch((function(e){return console.log(e)}))}},computed:{filterCat:function(){var e=this;return this.products.filter((function(t){return t.category===e.product.category&&t.id!==e.product.id}))}},created:function(){this.getProduct()},mounted:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProducts();case 2:c=e,c.fullWidth=window.innerWidth,e.adjustWindowSize(),window.onresize=function(){e.adjustWindowSize()};case 6:case"end":return t.stop()}}),t)})))()}};ue.render=oe;t["default"]=ue}}]);
//# sourceMappingURL=chunk-e64cabbe.e132fece.js.map